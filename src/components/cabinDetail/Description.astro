---
import type { Cabin } from "../../api/cabins/getCabin";

interface Props {
  cabin: Cabin;
}

const { cabin } = Astro.props;

const { description } = cabin;

const string1 = description.substring(0, 700);
const string2 = description.substring(700, description.length);
---

<div class="description">
  <h2>Cabin Description</h2>
  <p>
    {string1}
    <span id="dots">...</span><span id="more">{string2}</span>
  </p>
  <span onclick="toggleDescription()" id="descriptiont-text">Show More</span>
</div>

<script is:inline>
  function toggleDescription() {
    var dots = document.getElementById("dots");
    var moreText = document.getElementById("more");
    var btnText = document.getElementById("descriptiont-text");

    if (dots.style.display === "none") {
      dots.style.display = "inline";
      btnText.innerHTML = "Show more";
      moreText.style.display = "none";
    } else {
      dots.style.display = "none";
      btnText.innerHTML = "Show less";
      moreText.style.display = "inline";
    }
  }
</script>

<style>
  .description {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    padding: 0px;
    gap: 16px;
  }

  .description h2 {
    color: var(--primary-800);
  }

  p {
    text-align: justify;
  }

  .description #more {
    display: none;
  }

  #descriptiont-text {
    cursor: pointer;
  }
</style>
