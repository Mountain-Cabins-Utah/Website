---
interface Props {
  propertyId: string;
}

const { propertyId } = Astro.props;
---

<script
  type="text/javascript"
  src="https://platform.hostfully.com/assets/js/pikaday.js"
></script>

<script
  type="text/javascript"
  src="https://platform.hostfully.com/assets/js/leadCaptureWidget_2.0.js"
></script>

<div id="leadWidget"></div>

<script is:inline define:vars={{ propertyId }}>
  const widget = new Widget("leadWidget", propertyId, {
    maximun_availability: "2025-11-24T15:58:08.187Z",
    type: "agency",
    fields: [],
    showAvailability: true,
    lang: "US",
    minStay: true,
    price: true,
    hidePriceWithoutDates: false,
    cc: false,
    emailClient: true,
    saveCookie: true,
    showDynamicMinStay: true,
    backgroundColor: "#f4f9f4",
    buttonSubmit: { backgroundColor: "#274028" },
    showPriceDetailsLink: false,
    showGetQuoteLink: false,
    labelColor: "#100f1b",
    showTotalWithoutSD: true,
    redirectURL: false,
    showDiscount: true,
    includeReferrerToRequest: true,
    customDomainName: null,
    source: null,
    aid: "ORB-49587220416635719",
    clickID: null,
    valuesByDefaults: {
      checkIn: { value: "" },
      checkOut: { value: "" },
      guests: { value: "" },
      discountCode: { value: "" },
    },
    pathRoot: "https://platform.hostfully.com/",
  });
</script>

<style>
  #leadWidget {
    display: flex;
    height: 100%;
    position: sticky;
    z-index: 999;
    top: 40px;
    margin-bottom: 40px;
  }

  #leadWidget :global(form) {
    display: grid;
    grid-template-columns: repeat(2, minmax(120px, 1fr));
    padding: 16px 24px 32px;
    border: 1px solid #696973;
    box-shadow: var(--shadow);
  }

  #leadWidget :global(div),
  #leadWidget :global(button) {
    grid-column: 1/3;
  }

  #leadWidget :global(button) {
    margin: 0;
  }

  #leadWidget :global(.orbirental-capture-widget-totalnights) {
    display: none;
  }
</style>
